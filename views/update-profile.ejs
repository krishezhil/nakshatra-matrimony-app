<!DOCTYPE html>
<html lang="en">
<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<title>Update Profile</title>
		<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
		<link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
		<link href="/css/vendor/select2.min.css" rel="stylesheet">
		<link href="/css/theme.css" rel="stylesheet">
</head>
<body class="d-flex flex-column min-vh-100">
<%- include('partials/navbar') %>
<main class="container flex-fill" style="padding-top: 90px; padding-bottom: 80px;">
	<h2 class="mb-4">Update Profile</h2>
	<% if (typeof error !== 'undefined') { %>
		<div class="alert alert-danger">
			<i class="fas fa-exclamation-circle me-2"></i><%= error %>
		</div>
	<% } %>
	<% if (profile) { %>
	<form class="row g-3 bg-light p-4 rounded shadow-sm overflow-auto" style="max-height: 70vh;" method="POST" action="/profile/update/<%= profile.id %>">
		<input type="hidden" name="id" value="<%= profile.id %>">
		
		<!-- Serial Number Field (Read-Only) -->
		<div class="col-md-6">
			<label class="form-label">Serial No</label>
			<input type="text" class="form-control" 
			       name="serial_no" value="<%= profile.serial_no %>" 
			       readonly style="background-color: #e9ecef; cursor: not-allowed;">
			<div class="form-text">
				<i class="fas fa-lock me-1"></i>Serial number cannot be changed after profile creation
			</div>
		</div>
		
		<!-- Display validation errors summary if any -->
		<% if (typeof fieldErrors !== 'undefined' && Object.keys(fieldErrors).length > 0) { %>
			<div class="col-12">
				<div class="alert alert-warning">
					<i class="fas fa-exclamation-triangle me-2"></i>
					<strong>Please correct the following errors:</strong>
					<ul class="mb-0 mt-2">
						<% Object.entries(fieldErrors).forEach(([field, message]) => { %>
							<li><%= message %></li>
						<% }); %>
					</ul>
				</div>
			</div>
		<% } %>
		
			<div class="col-md-6">
				<label class="form-label">Name <span class="text-danger">*</span></label>
				<input type="text" class="form-control <%= (typeof fieldErrors !== 'undefined' && fieldErrors?.name) ? 'is-invalid' : '' %>" 
				       name="name" value="<%= (typeof formData !== 'undefined' && formData?.name) || profile.name %>" 
				       required maxlength="100" placeholder="Enter full name">
				<% if (typeof fieldErrors !== 'undefined' && fieldErrors?.name) { %>
					<div class="invalid-feedback"><%= fieldErrors.name %></div>
				<% } %>
			</div>
			<div class="col-md-6">
				<label class="form-label">Father Name <span class="text-danger">*</span></label>
				<input type="text" class="form-control <%= (typeof fieldErrors !== 'undefined' && fieldErrors?.father_name) ? 'is-invalid' : '' %>" 
				       name="father_name" value="<%= (typeof formData !== 'undefined' && formData?.father_name) || profile.father_name %>" 
				       required minlength="2" maxlength="100" placeholder="Enter father's full name">
				<% if (typeof fieldErrors !== 'undefined' && fieldErrors?.father_name) { %>
					<div class="invalid-feedback"><%= fieldErrors.father_name %></div>
				<% } %>
			</div>
			<div class="col-md-6">
				<label class="form-label">Mother Name <span class="text-danger">*</span></label>
				<input type="text" class="form-control <%= (typeof fieldErrors !== 'undefined' && fieldErrors?.mother_name) ? 'is-invalid' : '' %>" 
				       name="mother_name" value="<%= (typeof formData !== 'undefined' && formData?.mother_name) || profile.mother_name %>" 
				       required minlength="2" maxlength="100" placeholder="Enter mother's full name">
				<% if (typeof fieldErrors !== 'undefined' && fieldErrors?.mother_name) { %>
					<div class="invalid-feedback"><%= fieldErrors.mother_name %></div>
				<% } %>
			</div>
			<div class="col-md-6">
				<label class="form-label">Siblings</label>
				<input type="text" class="form-control <%= (typeof fieldErrors !== 'undefined' && fieldErrors?.siblings) ? 'is-invalid' : '' %>" 
				       name="siblings" value="<%= (typeof formData !== 'undefined' && formData?.siblings) || profile.siblings %>" 
				       maxlength="200" placeholder="Enter siblings information (optional)">
				<% if (typeof fieldErrors !== 'undefined' && fieldErrors?.siblings) { %>
					<div class="invalid-feedback"><%= fieldErrors.siblings %></div>
				<% } %>
			</div>
			<div class="col-md-6">
				<label class="form-label">Gothram <span class="text-danger">*</span></label>
				<select class="form-control <%= (typeof fieldErrors !== 'undefined' && fieldErrors?.gothram) ? 'is-invalid' : '' %>" 
				        name="gothram" required
				        data-saved-value='<%- JSON.stringify(((typeof formData !== 'undefined' && formData?.gothram) || profile.gothram || '').toString()) %>'>
					<option value="" disabled <%= !((typeof formData !== 'undefined' && formData?.gothram) || profile.gothram) ? 'selected' : '' %>>Select Gothram (required)</option>
					<!-- Options loaded dynamically via gothram-dropdown.js -->
				</select>
				<% if (typeof fieldErrors !== 'undefined' && fieldErrors?.gothram) { %>
					<div class="invalid-feedback"><%= fieldErrors.gothram %></div>
				<% } %>
			</div>
			<div class="col-md-6">
				<label class="form-label">Birth Date <span class="text-danger">*</span></label>
				<input type="date" class="form-control <%= (typeof fieldErrors !== 'undefined' && fieldErrors?.birth_date) ? 'is-invalid' : '' %>" 
				       name="birth_date" value="<%= (typeof formData !== 'undefined' && formData?.birth_date) || profile.birth_date %>" 
				       required min="1949-01-01" max="2006-12-31">
				<% if (typeof fieldErrors !== 'undefined' && fieldErrors?.birth_date) { %>
					<div class="invalid-feedback"><%= fieldErrors.birth_date %></div>
				<% } %>
				<div class="form-text">Age must be between 18-75 years for matrimony profiles</div>
			</div>
			<div class="col-md-6">
				<label class="form-label">Birth Time</label>
				<input type="time" class="form-control <%= (typeof fieldErrors !== 'undefined' && fieldErrors?.birth_time) ? 'is-invalid' : '' %>" 
				       name="birth_time" value="<%= (typeof formData !== 'undefined' && formData?.birth_time) || profile.birth_time %>" 
				       placeholder="HH:MM (24-hour format)">
				<% if (typeof fieldErrors !== 'undefined' && fieldErrors?.birth_time) { %>
					<div class="invalid-feedback"><%= fieldErrors.birth_time %></div>
				<% } %>
			</div>
			<div class="col-md-6">
				<label class="form-label">Birth Place</label>
				<input type="text" class="form-control <%= (typeof fieldErrors !== 'undefined' && fieldErrors?.birth_place) ? 'is-invalid' : '' %>" 
				       name="birth_place" value="<%= (typeof formData !== 'undefined' && formData?.birth_place) || profile.birth_place %>" 
				       maxlength="100" placeholder="City/town of birth (optional)">
				<% if (typeof fieldErrors !== 'undefined' && fieldErrors?.birth_place) { %>
					<div class="invalid-feedback"><%= fieldErrors.birth_place %></div>
				<% } %>
			</div>
				<div class="col-md-6">
					<label class="form-label">Qualification</label>
					<select class="form-select" name="qualification">
						<option value="School" <%= profile.qualification === 'School' ? 'selected' : '' %>>School</option>
						<option value="Diploma" <%= profile.qualification === 'Diploma' ? 'selected' : '' %>>Diploma</option>
						<option value="UG" <%= profile.qualification === 'UG' ? 'selected' : '' %>>UG</option>
						<option value="PG" <%= profile.qualification === 'PG' ? 'selected' : '' %>>PG</option>
						<option value="PHD" <%= profile.qualification === 'PHD' ? 'selected' : '' %>>PHD</option>
						<option value="Doctor" <%= profile.qualification === 'Doctor' ? 'selected' : '' %>>Doctor</option>
					</select>
				</div>
			<div class="col-md-6">
				<label class="form-label">Qualification Details</label>
				<input type="text" class="form-control <%= (typeof fieldErrors !== 'undefined' && fieldErrors?.qualification_details) ? 'is-invalid' : '' %>" 
				       name="qualification_details" value="<%= (typeof formData !== 'undefined' && formData?.qualification_details) || profile.qualification_details %>" 
				       maxlength="200" placeholder="Additional qualification details (optional)">
				<% if (typeof fieldErrors !== 'undefined' && fieldErrors?.qualification_details) { %>
					<div class="invalid-feedback"><%= fieldErrors.qualification_details %></div>
				<% } %>
			</div>
			<div class="col-md-6">
				<label class="form-label">Job Details</label>
				<input type="text" class="form-control <%= (typeof fieldErrors !== 'undefined' && fieldErrors?.job_details) ? 'is-invalid' : '' %>" 
				       name="job_details" value="<%= (typeof formData !== 'undefined' && formData?.job_details) || profile.job_details %>" 
				       maxlength="300" placeholder="Job title, company, etc. (optional)">
				<% if (typeof fieldErrors !== 'undefined' && fieldErrors?.job_details) { %>
					<div class="invalid-feedback"><%= fieldErrors.job_details %></div>
				<% } %>
			</div>
			<div class="col-md-6">
				<label class="form-label">Monthly Income</label>
				<input type="number" class="form-control <%= (typeof fieldErrors !== 'undefined' && fieldErrors?.monthly_income) ? 'is-invalid' : '' %>" 
				       name="monthly_income" value="<%= (typeof formData !== 'undefined' && formData?.monthly_income) || profile.monthly_income %>" 
				       min="0" step="1000" placeholder="Monthly income in rupees (optional)">
				<% if (typeof fieldErrors !== 'undefined' && fieldErrors?.monthly_income) { %>
					<div class="invalid-feedback"><%= fieldErrors.monthly_income %></div>
				<% } %>
			</div>
			<div class="col-md-6">
				<label class="form-label">Address</label>
				<input type="text" class="form-control <%= (typeof fieldErrors !== 'undefined' && fieldErrors?.address) ? 'is-invalid' : '' %>" 
				       name="address" value="<%= (typeof formData !== 'undefined' && formData?.address) || profile.address %>" 
				       maxlength="500" placeholder="Full address (optional)">
				<% if (typeof fieldErrors !== 'undefined' && fieldErrors?.address) { %>
					<div class="invalid-feedback"><%= fieldErrors.address %></div>
				<% } %>
			</div>
			<div class="col-md-6">
				<label class="form-label">Contact No <span class="text-danger">*</span></label>
				<input type="text" class="form-control <%= (typeof fieldErrors !== 'undefined' && fieldErrors?.contact_no) ? 'is-invalid' : '' %>" 
				       name="contact_no" value="<%= (typeof formData !== 'undefined' && formData?.contact_no) || profile.contact_no %>" 
				       required pattern="[6-9][0-9]{9}" maxlength="10" 
				       placeholder="10-digit mobile number (6-9XXXXXXXX)">
				<% if (typeof fieldErrors !== 'undefined' && fieldErrors?.contact_no) { %>
					<div class="invalid-feedback"><%= fieldErrors.contact_no %></div>
				<% } %>
				<div class="form-text">Format: 10-digit number starting with 6, 7, 8, or 9</div>
			</div>
			<div class="col-md-6">
				<label class="form-label">Additional Contact No</label>
				<input type="text" class="form-control <%= (typeof fieldErrors !== 'undefined' && fieldErrors?.additional_contact_no) ? 'is-invalid' : '' %>" 
				       name="additional_contact_no" value="<%= (typeof formData !== 'undefined' && formData?.additional_contact_no) || profile.additional_contact_no %>" 
				       placeholder="Landline, Mobile, or International number">
				<% if (typeof fieldErrors !== 'undefined' && fieldErrors?.additional_contact_no) { %>
					<div class="invalid-feedback"><%= fieldErrors.additional_contact_no %></div>
				<% } %>
			</div>
				<div class="col-md-6">
					<label class="form-label">Gender <span class="text-danger">*</span></label>
					<select class="form-select <%= (typeof fieldErrors !== 'undefined' && fieldErrors?.gender) ? 'is-invalid' : '' %>" 
					        name="gender" required>
						<option value="">Select Gender</option>
						<option value="Male" <%= ((typeof formData !== 'undefined' && formData?.gender) || profile.gender) === 'Male' ? 'selected' : '' %>>Male</option>
						<option value="Female" <%= ((typeof formData !== 'undefined' && formData?.gender) || profile.gender) === 'Female' ? 'selected' : '' %>>Female</option>
					</select>
					<% if (typeof fieldErrors !== 'undefined' && fieldErrors?.gender) { %>
						<div class="invalid-feedback"><%= fieldErrors.gender %></div>
					<% } %>
				</div>
				<div class="col-md-6">
					<label class="form-label">Region</label>
					<select class="form-select" name="region">
						<option value="Chennai" <%= profile.region === 'Chennai' ? 'selected' : '' %>>Chennai</option>
						<option value="Chengalpattu" <%= profile.region === 'Chengalpattu' ? 'selected' : '' %>>Chengalpattu</option>
						<option value="Thiruvallur" <%= profile.region === 'Thiruvallur' ? 'selected' : '' %>>Thiruvallur</option>
						<option value="Kancheepuram" <%= profile.region === 'Kancheepuram' ? 'selected' : '' %>>Kancheepuram</option>
						<option value="Vellore" <%= profile.region === 'Vellore' ? 'selected' : '' %>>Vellore</option>
						<option value="Other Districts in TN" <%= profile.region === 'Other Districts in TN' ? 'selected' : '' %>>Other Districts in TN</option>
						<option value="Pondicherry" <%= profile.region === 'Pondicherry' ? 'selected' : '' %>>Pondicherry</option>
						<option value="Andhra Pradesh" <%= profile.region === 'Andhra Pradesh' ? 'selected' : '' %>>Andhra Pradesh</option>
						<option value="Other States in India" <%= profile.region === 'Other States in India' ? 'selected' : '' %>>Other States in India</option>
						<option value="Overseas" <%= profile.region === 'Overseas' ? 'selected' : '' %>>Overseas</option>
						<option value="Others(TN)" <%= profile.region === 'Others(TN)' ? 'selected' : '' %>>Others(TN)</option>
						<option value="Others(IND)" <%= profile.region === 'Others(IND)' ? 'selected' : '' %>>Others(IND)</option>
					</select>
				</div>
			<div class="col-md-6">
				<label class="form-label">Nakshatra ID <span class="text-danger">*</span></label>
				<select class="form-select <%= (typeof fieldErrors !== 'undefined' && fieldErrors?.nakshatraid) ? 'is-invalid' : '' %>" 
				        name="nakshatraid" required>
					<option value="">Select Nakshatra</option>
					<option value="1"  <%= ((typeof formData !== 'undefined' && formData?.nakshatraid) || profile.nakshatraid) == 1  ? 'selected' : '' %>>1 - Aswini_Mesham</option>
					<option value="2"  <%= ((typeof formData !== 'undefined' && formData?.nakshatraid) || profile.nakshatraid) == 2  ? 'selected' : '' %>>2 - Barani_Mesham</option>
					<option value="3"  <%= ((typeof formData !== 'undefined' && formData?.nakshatraid) || profile.nakshatraid) == 3  ? 'selected' : '' %>>3 - Karthigai_Mesham</option>
					<option value="4"  <%= ((typeof formData !== 'undefined' && formData?.nakshatraid) || profile.nakshatraid) == 4  ? 'selected' : '' %>>4 - Karthigai_Rishabam</option>
					<option value="5"  <%= ((typeof formData !== 'undefined' && formData?.nakshatraid) || profile.nakshatraid) == 5  ? 'selected' : '' %>>5 - Rohini_Rishabam</option>
					<option value="6"  <%= ((typeof formData !== 'undefined' && formData?.nakshatraid) || profile.nakshatraid) == 6  ? 'selected' : '' %>>6 - Mirugasirisham_Rishabam</option>
					<option value="7"  <%= ((typeof formData !== 'undefined' && formData?.nakshatraid) || profile.nakshatraid) == 7  ? 'selected' : '' %>>7 - Mirugasirisham_Mithunam</option>
					<option value="8"  <%= ((typeof formData !== 'undefined' && formData?.nakshatraid) || profile.nakshatraid) == 8  ? 'selected' : '' %>>8 - Thiruvathirai_Mithunam</option>
					<option value="9"  <%= ((typeof formData !== 'undefined' && formData?.nakshatraid) || profile.nakshatraid) == 9  ? 'selected' : '' %>>9 - Punarpoosam_Mithunam</option>
					<option value="10" <%= ((typeof formData !== 'undefined' && formData?.nakshatraid) || profile.nakshatraid) == 10 ? 'selected' : '' %>>10 - Punarpoosam_Kadagam</option>
					<option value="11" <%= ((typeof formData !== 'undefined' && formData?.nakshatraid) || profile.nakshatraid) == 11 ? 'selected' : '' %>>11 - Poosam_Kadagam</option>
					<option value="12" <%= ((typeof formData !== 'undefined' && formData?.nakshatraid) || profile.nakshatraid) == 12 ? 'selected' : '' %>>12 - Ayilyam_Kadagam</option>
					<option value="13" <%= ((typeof formData !== 'undefined' && formData?.nakshatraid) || profile.nakshatraid) == 13 ? 'selected' : '' %>>13 - Magam_Simham</option>
					<option value="14" <%= ((typeof formData !== 'undefined' && formData?.nakshatraid) || profile.nakshatraid) == 14 ? 'selected' : '' %>>14 - Pooram_Simham</option>
					<option value="15" <%= ((typeof formData !== 'undefined' && formData?.nakshatraid) || profile.nakshatraid) == 15 ? 'selected' : '' %>>15 - Uthiram_Simham</option>
					<option value="16" <%= ((typeof formData !== 'undefined' && formData?.nakshatraid) || profile.nakshatraid) == 16 ? 'selected' : '' %>>16 - Uthiram_Kanni</option>
					<option value="17" <%= ((typeof formData !== 'undefined' && formData?.nakshatraid) || profile.nakshatraid) == 17 ? 'selected' : '' %>>17 - Hastham_Kanni</option>
					<option value="18" <%= ((typeof formData !== 'undefined' && formData?.nakshatraid) || profile.nakshatraid) == 18 ? 'selected' : '' %>>18 - Chithirai_Kanni</option>
					<option value="19" <%= ((typeof formData !== 'undefined' && formData?.nakshatraid) || profile.nakshatraid) == 19 ? 'selected' : '' %>>19 - Chithirai_Thulam</option>
					<option value="20" <%= ((typeof formData !== 'undefined' && formData?.nakshatraid) || profile.nakshatraid) == 20 ? 'selected' : '' %>>20 - Swathi_Thulam</option>
					<option value="21" <%= ((typeof formData !== 'undefined' && formData?.nakshatraid) || profile.nakshatraid) == 21 ? 'selected' : '' %>>21 - Visagam_Thulam</option>
					<option value="22" <%= ((typeof formData !== 'undefined' && formData?.nakshatraid) || profile.nakshatraid) == 22 ? 'selected' : '' %>>22 - Visagam_Viruchigam</option>
					<option value="23" <%= ((typeof formData !== 'undefined' && formData?.nakshatraid) || profile.nakshatraid) == 23 ? 'selected' : '' %>>23 - Anusam_Viruchigam</option>
					<option value="24" <%= ((typeof formData !== 'undefined' && formData?.nakshatraid) || profile.nakshatraid) == 24 ? 'selected' : '' %>>24 - Ketai_Viruchigam</option>
					<option value="25" <%= ((typeof formData !== 'undefined' && formData?.nakshatraid) || profile.nakshatraid) == 25 ? 'selected' : '' %>>25 - Moolam_Dhanusu</option>
					<option value="26" <%= ((typeof formData !== 'undefined' && formData?.nakshatraid) || profile.nakshatraid) == 26 ? 'selected' : '' %>>26 - Pooradam_Dhanusu</option>
					<option value="27" <%= ((typeof formData !== 'undefined' && formData?.nakshatraid) || profile.nakshatraid) == 27 ? 'selected' : '' %>>27 - Uthiradam_Dhanusu</option>
					<option value="28" <%= ((typeof formData !== 'undefined' && formData?.nakshatraid) || profile.nakshatraid) == 28 ? 'selected' : '' %>>28 - Uthiradam_Magaram</option>
					<option value="29" <%= ((typeof formData !== 'undefined' && formData?.nakshatraid) || profile.nakshatraid) == 29 ? 'selected' : '' %>>29 - Thiruvonam_Magaram</option>
					<option value="30" <%= ((typeof formData !== 'undefined' && formData?.nakshatraid) || profile.nakshatraid) == 30 ? 'selected' : '' %>>30 - Avitam_Magaram</option>
					<option value="31" <%= ((typeof formData !== 'undefined' && formData?.nakshatraid) || profile.nakshatraid) == 31 ? 'selected' : '' %>>31 - Avitam_Kumbham</option>
					<option value="32" <%= ((typeof formData !== 'undefined' && formData?.nakshatraid) || profile.nakshatraid) == 32 ? 'selected' : '' %>>32 - Sadayam_Kumbham</option>
					<option value="33" <%= ((typeof formData !== 'undefined' && formData?.nakshatraid) || profile.nakshatraid) == 33 ? 'selected' : '' %>>33 - Pooratathi_Kumbham</option>
					<option value="34" <%= ((typeof formData !== 'undefined' && formData?.nakshatraid) || profile.nakshatraid) == 34 ? 'selected' : '' %>>34 - Pooratathi_Meenam</option>
					<option value="35" <%= ((typeof formData !== 'undefined' && formData?.nakshatraid) || profile.nakshatraid) == 35 ? 'selected' : '' %>>35 - Uthiratathi_Meenam</option>
					<option value="36" <%= ((typeof formData !== 'undefined' && formData?.nakshatraid) || profile.nakshatraid) == 36 ? 'selected' : '' %>>36 - Revathi_Meenam</option>
				</select>
				<% if (typeof fieldErrors !== 'undefined' && fieldErrors?.nakshatraid) { %>
					<div class="invalid-feedback"><%= fieldErrors.nakshatraid %></div>
				<% } %>
			</div>
			<div class="col-md-6">
				<label class="form-label">Is Active</label>
				<select class="form-select" name="is_active">
					<option value="true" <%= profile.is_active ? 'selected' : '' %>>Yes</option>
					<option value="false" <%= !profile.is_active ? 'selected' : '' %>>No</option>
				</select>
			</div>
			<div class="col-md-6">
				<label class="form-label">Is Remarried</label>
				<select class="form-select" name="is_remarried">
					<option value="true" <%= profile.is_remarried === 'true' ? 'selected' : '' %>>Yes</option>
					<option value="false" <%= profile.is_remarried === 'false' ? 'selected' : '' %>>No</option>
				</select>
			</div>
				<div class="col-md-6">
					<label class="form-label">Rasi Lagnam</label>
					<select class="form-select" name="rasi_lagnam">
						<option value="Suth" <%= profile.rasi_lagnam === 'Suth' ? 'selected' : '' %>>Suth</option>
						<option value="Sani" <%= profile.rasi_lagnam === 'Sani' ? 'selected' : '' %>>Sani</option>
						<option value="Sevai" <%= profile.rasi_lagnam === 'Sevai' ? 'selected' : '' %>>Sevai</option>
						<option value="Raaghu/Kethu" <%= profile.rasi_lagnam === 'Raaghu/Kethu' ? 'selected' : '' %>>Raaghu/Kethu</option>
						<option value="Sani/Sevai" <%= profile.rasi_lagnam === 'Sani/Sevai' ? 'selected' : '' %>>Sani/Sevai</option>
						<option value="Sani/Kethu/Raaghu" <%= profile.rasi_lagnam === 'Sani/Kethu/Raaghu' ? 'selected' : '' %>>Sani/Kethu/Raaghu</option>
						<option value="Sevai/Kethu/Raaghu" <%= profile.rasi_lagnam === 'Sevai/Kethu/Raaghu' ? 'selected' : '' %>>Sevai/Kethu/Raaghu</option>
						<option value="Sani/Sevai/Kethu/Raaghu" <%= profile.rasi_lagnam === 'Sani/Sevai/Kethu/Raaghu' ? 'selected' : '' %>>Sani/Sevai/Kethu/Raaghu</option>
					</select>
				</div>
		<div class="col-12 d-flex justify-content-center gap-3 mt-4">
			<a href="/profile/showall" class="btn btn-secondary">Back</a>
			<button type="submit" class="btn btn-success">Update</button>
		</div>
	</form>
	<% } %>
</main>
<%- include('partials/footer') %>
<script src="/js/vendor/jquery.min.js"></script>
<script src="/js/vendor/select2.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="/js/gothram-dropdown.js"></script>
<script src="/js/utils/debugLogger.js"></script>
<script>
$(document).ready(function() {
    // Phase 2: Verify Select2 library is loaded
    if (typeof $.fn.select2 !== 'undefined') {
        window.debugLogger?.info('UpdateProfile', '✅ Select2 library loaded successfully');
    } else {
        console.error('❌ Select2 library failed to load');
    }
});
</script>
</body>
</html>
